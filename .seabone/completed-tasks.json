[
  {
    "id": "fix-security-c1-5",
    "description": "Add .env.agent-swarm to .gitignore",
    "branch": "agent/fix-security-c1-5",
    "status": "merged",
    "pr": 1,
    "merged_at": "2026-02-27T05:14:24Z"
  },
  {
    "id": "fix-security-c1-1",
    "description": "Fix audit log actor spoofing in app/services/audit.py",
    "branch": "agent/fix-security-c1-1",
    "status": "merged",
    "pr": 2,
    "merged_at": "2026-02-27T05:17:00Z"
  },
  {
    "id": "fix-security-c1-10",
    "description": "Fix refresh cookie secure flag in app/services/auth_flow.py line 153. The _refresh_cookie_secure() helper returns False by default. Change it to return True by default. The env var REFRESH_COOKIE_SECURE=false should still allow override for local dev. Read the file first.",
    "branch": "agent/fix-security-c1-10",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-10",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-10",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:13:05Z",
    "last_heartbeat": "2026-02-27T05:14:52Z",
    "completed_at": "2026-02-27T05:22:00Z"
  },
  {
    "id": "fix-security-c1-3",
    "description": "Add Redis-backed rate limiting to auth endpoints in app/api/auth_flow.py. The /auth/login, /auth/forgot-password, /auth/mfa/verify, and /auth/refresh endpoints (around line 80) have no rate limiting, enabling brute-force attacks. Check pyproject.toml first for existing dependencies. Add per-IP rate limiting using slowapi if available, or a custom Redis dependency otherwise. Enforce: login=5/min, forgot-password=3/min, mfa/verify=5/min, refresh=10/min per source IP. Read app/api/auth_flow.py and app/config.py before making changes.",
    "branch": "agent/fix-security-c1-3",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-3",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-3",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:12:50Z",
    "last_heartbeat": "2026-02-27T05:17:04Z",
    "completed_at": "2026-02-27T05:22:05Z"
  },
  {
    "id": "fix-security-c1-2",
    "status": "merged"
  },
  {
    "id": "fix-security-c1-11",
    "description": "Add HTTP security response headers middleware to app/main.py (around line 54). Add a middleware (use BaseHTTPMiddleware or a starlette middleware) that appends these headers to every response: X-Frame-Options: DENY, X-Content-Type-Options: nosniff, X-XSS-Protection: 1; mode=block, Referrer-Policy: strict-origin-when-cross-origin. Read app/main.py to understand existing middleware setup before adding the new middleware.",
    "branch": "agent/fix-security-c1-11",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-11",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-11",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:22:17Z",
    "last_heartbeat": "2026-02-27T05:25:50Z",
    "completed_at": "2026-02-27T05:32:45Z"
  },
  {
    "id": "fix-security-c1-9",
    "description": "Fix avatar upload type validation in app/services/avatar.py (around line 15). Currently only the client-supplied Content-Type header is used for type validation — a spoofing risk. Add magic-byte validation: after receiving the file, read the first 512 bytes and verify they match allowed signatures: JPEG (FF D8 FF), PNG (89 50 4E 47 0D 0A 1A 0A), GIF (47 49 46 38), WebP (52 49 46 46 ... 57 45 42 50). Check pyproject.toml for python-magic; use it if present, otherwise use raw bytes comparison. Raise HTTP 415 if magic bytes do not match. Read avatar.py and pyproject.toml first.",
    "branch": "agent/fix-security-c1-9",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-9",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-9",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:22:15Z",
    "last_heartbeat": "2026-02-27T05:24:53Z",
    "completed_at": "2026-02-27T05:32:47Z"
  },
  {
    "id": "fix-security-c1-8",
    "description": "Fix API key hashing in app/services/auth.py (around line 55). API keys use unsalted SHA-256 (hashlib.sha256). Replace with HMAC-SHA256: add an HMAC_SECRET env var to app/config.py (required, no default), then update hash_api_key() to use hmac.new(secret.encode(), api_key.encode(), hashlib.sha256).hexdigest(). Update the corresponding lookup/verify code to use hmac.compare_digest for constant-time comparison. Read app/services/auth.py and app/config.py fully before making changes.",
    "branch": "agent/fix-security-c1-8",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-8",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-8",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T05:22:12Z",
    "last_heartbeat": "2026-02-27T05:26:01Z",
    "completed_at": "2026-02-27T05:32:50Z"
  },
  {
    "id": "fix-security-c1-7",
    "description": "Add CORS middleware to app/main.py (around line 46). Import CORSMiddleware from fastapi.middleware.cors. Add it with: allow_origins read from CORS_ALLOW_ORIGINS env var (comma-separated list, default empty list), allow_credentials=True only when origins list does not contain wildcard, allow_methods=['*'], allow_headers=['*']. Read app/main.py and app/config.py before making changes.",
    "branch": "agent/fix-security-c1-7",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-7",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-7",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T05:22:10Z",
    "last_heartbeat": "2026-02-27T05:27:04Z",
    "completed_at": "2026-02-27T05:32:52Z"
  },
  {
    "id": "fix-security-c1-6",
    "description": "Remove webhook signing secret from read schema in app/schemas/webhook.py (around line 32). The WebhookEndpointRead schema exposes the raw 'secret' field. Replace it with a boolean 'has_secret' field. Also update any service or API code that builds this schema to set has_secret=bool(endpoint.secret) instead of passing the raw secret. Read app/schemas/webhook.py, app/services/webhooks.py (or equivalent), and the webhook API route file before making changes.",
    "branch": "agent/fix-security-c1-6",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-6",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-6",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:22:08Z",
    "last_heartbeat": "2026-02-27T05:24:39Z",
    "completed_at": "2026-02-27T05:32:54Z"
  },
  {
    "id": "fix-security-c1-16",
    "description": "Fix missing actor_type in audit logging in app/services/auth_dependencies.py (around line 157). The require_user_auth and require_audit_auth dependencies set request.state.actor_id but never set request.state.actor_type. As a result, the audit logger always records actor_type='system' even for authenticated user and API-key requests, making audit logs unreliable. Fix: in require_user_auth, add 'request.state.actor_type = \"user\"' immediately after setting actor_id. In the API-key branch of require_audit_auth, add 'request.state.actor_type = \"api_key\"'. Read app/services/auth_dependencies.py fully before making changes.",
    "branch": "agent/fix-security-c1-16",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-16",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-16",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T05:35:27Z",
    "last_heartbeat": "2026-02-27T05:38:44Z",
    "completed_at": "2026-02-27T05:42:25Z"
  },
  {
    "id": "fix-security-c1-15",
    "description": "Fix ILIKE wildcard abuse in app/services/search.py (around line 30). The document search builds an ILIKE pattern with f\"%{q}%\" where q is raw user input. Authenticated users can include unescaped % and _ wildcards in their search query, forcing expensive full-table scans and degrading database performance. Fix: before building the ILIKE pattern, escape wildcards in q: q_escaped = q.replace('%', '\\\\%').replace('_', '\\\\_') and then use f\"%{q_escaped}%\" in the ILIKE call. Read app/services/search.py fully before making changes.",
    "branch": "agent/fix-security-c1-15",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-15",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-15",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:35:25Z",
    "last_heartbeat": "2026-02-27T05:38:03Z",
    "completed_at": "2026-02-27T05:42:28Z"
  },
  {
    "id": "fix-security-c1-14",
    "description": "Fix HTML injection in app/services/email.py (around line 99). The send_password_reset_email function builds an HTML email body using an f-string that embeds person_name or display_name directly without HTML-escaping. A user with a crafted display_name containing HTML tags (e.g. </p><script>alert(1)</script>) can inject arbitrary HTML into outgoing emails, enabling phishing and spoofed content. Fix: add 'import html' at the top of the file if not already present, then wrap the name variable with html.escape(name) before interpolating it into the body_html f-string. Read app/services/email.py fully before making changes.",
    "branch": "agent/fix-security-c1-14",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-14",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-14",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:35:22Z",
    "last_heartbeat": "2026-02-27T05:36:06Z",
    "completed_at": "2026-02-27T05:42:30Z"
  },
  {
    "id": "fix-security-c1-13",
    "description": "Fix hardcoded default database credentials in app/config.py (around line 13). The DATABASE_URL setting falls back to a URL containing postgres:postgres@localhost when the env var is not set. Remove hardcoded credentials from the fallback. Instead: if DATABASE_URL is not set and ENVIRONMENT env var is not 'development', raise a ValueError at startup with a clear message. For ENVIRONMENT=development only, a localhost default without credentials is acceptable. Read app/config.py fully before making changes.",
    "branch": "agent/fix-security-c1-13",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-13",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-13",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:32:59Z",
    "last_heartbeat": "2026-02-27T05:34:09Z",
    "completed_at": "2026-02-27T05:42:32Z"
  },
  {
    "id": "fix-security-c1-12",
    "description": "Protect the /metrics endpoint in app/main.py (around line 221) with a simple API key check. Add a Bearer token dependency: read METRICS_API_KEY from env. If the env var is not set, return 403. Compare the Authorization: Bearer <key> header against METRICS_API_KEY using hmac.compare_digest for constant-time comparison. Apply this dependency to the /metrics route. Read app/main.py and any existing auth dependencies before making changes.",
    "branch": "agent/fix-security-c1-12",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-security-c1-12",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-12",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:32:57Z",
    "last_heartbeat": "2026-02-27T05:36:42Z",
    "completed_at": "2026-02-27T05:42:35Z"
  },
  {
    "id": "fix-security-c1-4",
    "description": "Fix password reset token reuse in app/services/auth_flow.py (around line 756). After a successful password reset, the reset token is not deleted or marked as used — an attacker who intercepts a valid token can reuse it after the password has already been changed. Find the function that validates and applies the reset token (look for password_reset or similar near line 756). After updating the user's password, immediately delete the token record from the database or set a used_at/invalidated_at timestamp so the token cannot be reused. Check app/models/ for the PasswordResetToken model to understand the data structure. Read app/services/auth_flow.py fully before making changes.",
    "branch": "agent/fix-security-c1-4",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-fix-security-c1-4",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-security-c1-4",
    "status": "merged",
    "retries": 0,
    "started_at": "2026-02-27T05:28:11Z",
    "last_heartbeat": "2026-02-27T05:33:32Z",
    "completed_at": "2026-02-27T05:42:37Z"
  },
  {
    "id": "fix-deps-6",
    "description": "Upgrade httpx from 0.27.0 to >=0.28.0 in pyproject.toml. httpx 0.28.x includes security hardening around redirect handling and SSL certificate verification defaults. Update the version constraint and run 'poetry lock --no-update'. Commit and open a PR.",
    "branch": "agent/fix-deps-6",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-6",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-6",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:38:52Z",
    "last_heartbeat": "2026-02-27T06:40:56Z",
    "completed_at": "2026-02-27T06:42:04Z"
  },
  {
    "id": "fix-deps-5",
    "description": "Upgrade OpenTelemetry instrumentation packages from beta 0.47b0 to stable releases in pyproject.toml. Update: opentelemetry-instrumentation-fastapi, opentelemetry-instrumentation-sqlalchemy, opentelemetry-instrumentation-celery to >=0.50b0 (latest stable). Run 'poetry lock --no-update' to refresh the lock file.",
    "branch": "agent/fix-deps-5",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-5",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-5",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:33:25Z",
    "last_heartbeat": "2026-02-27T06:35:13Z",
    "completed_at": "2026-02-27T06:42:07Z"
  },
  {
    "id": "fix-deps-4",
    "description": "Upgrade cryptography from 42.0.8 to >=46.0.0 in pyproject.toml. Versions 43.x through 46.x contain security patches for certificate validation and memory safety. Update the version constraint in pyproject.toml and run 'poetry lock --no-update'. Verify no API breakage by checking imports in app/ that use cryptography.",
    "branch": "agent/fix-deps-4",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-4",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-4",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:33:23Z",
    "last_heartbeat": "2026-02-27T06:36:02Z",
    "completed_at": "2026-02-27T06:42:09Z"
  },
  {
    "id": "fix-deps-2",
    "description": "Upgrade jinja2 from 3.1.4 to >=3.1.6 in pyproject.toml to fix CVE-2024-56201 and CVE-2024-56326 (sandbox escape via __init__.__globals__ and |attr filter). Update the version constraint in pyproject.toml and run 'poetry lock --no-update' to regenerate the lock file.",
    "branch": "agent/fix-deps-2",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-2",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-2",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:33:18Z",
    "last_heartbeat": "2026-02-27T06:38:12Z",
    "completed_at": "2026-02-27T06:42:14Z"
  },
  {
    "id": "frontend-audit-20260227",
    "description": "Frontend audit: review templates and styling for responsive behavior, accessibility, and visual consistency. Apply concrete UX/UI improvements and open a PR with summary notes.",
    "branch": "agent/frontend-audit-20260227",
    "engine": "claude-frontend",
    "model": "sonnet",
    "session": "agent-dotmac_ecm-frontend-audit-20260227",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/frontend-audit-20260227",
    "status": "no_changes",
    "retries": 0,
    "started_at": "2026-02-27T06:37:33Z",
    "last_heartbeat": "2026-02-27T06:45:10Z",
    "completed_at": "2026-02-27T06:51:39Z"
  },
  {
    "id": "fix-deps-1",
    "description": "Replace python-jose 3.3.0 with a maintained JWT library to fix CVE-2024-33664 and CVE-2024-33663 (algorithm confusion attack allowing JWT signature bypass via algorithm switching). Step 1: Read pyproject.toml to see the python-jose constraint. Step 2: Search app/ for all jose imports with 'grep -r jose app/'. Step 3: Read app/services/auth_flow.py or whichever file handles JWT encode/decode. Step 4: Replace python-jose with joserfc in pyproject.toml (add joserfc>=0.12.0, remove python-jose). Step 5: Update all JWT code to use joserfc: 'from joserfc import jwt; from joserfc.jwk import OctKey' — use jwt.encode(header, payload, key) and jwt.decode(token, key, algorithms=[algo]). Ensure 'none' algorithm is rejected by explicitly passing algorithms kwarg. Step 6: Run 'poetry lock --no-update'. Step 7: Commit and open a PR.",
    "branch": "agent/fix-deps-1",
    "engine": "claude",
    "model": "sonnet",
    "session": "agent-dotmac_ecm-fix-deps-1",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-1",
    "status": "no_changes",
    "retries": 0,
    "started_at": "2026-02-27T06:55:01Z",
    "last_heartbeat": "2026-02-27T06:58:12Z",
    "completed_at": "2026-02-27T07:00:44Z"
  },
  {
    "id": "fix-deps-9",
    "description": "Upgrade python-dotenv from 1.0.1 to >=1.2.1 in pyproject.toml to pick up latest fixes and align with current releases. Update the version constraint and run 'poetry lock --no-update'.",
    "branch": "agent/fix-deps-9",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-9",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-9",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:51:46Z",
    "last_heartbeat": "2026-02-27T06:54:55Z",
    "completed_at": "2026-02-27T07:00:49Z"
  },
  {
    "id": "fix-deps-8",
    "description": "Upgrade pydantic from 2.7.4 to >=2.10.0 and pydantic-core accordingly in pyproject.toml. pydantic 2.10+ includes validation fixes and performance improvements. Update constraints and run 'poetry update pydantic pydantic-core' to refresh the lock file.",
    "branch": "agent/fix-deps-8",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-8",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-8",
    "status": "pr_created",
    "retries": 0,
    "started_at": "2026-02-27T06:51:44Z",
    "last_heartbeat": "2026-02-27T06:52:30Z",
    "completed_at": "2026-02-27T07:00:51Z"
  },
  {
    "id": "fix-deps-7",
    "description": "Update boto3 to latest patch version in pyproject.toml. Change the constraint from '^1.42.43' to '^1.37.0' (latest minor) or tighten to an exact version. Run 'poetry update boto3' to refresh poetry.lock with the latest security patches and commit the updated lock file.",
    "branch": "agent/fix-deps-7",
    "engine": "aider",
    "model": "deepseek-chat",
    "session": "agent-dotmac_ecm-fix-deps-7",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/fix-deps-7",
    "status": "no_changes",
    "retries": 0,
    "started_at": "2026-02-27T06:51:41Z",
    "last_heartbeat": "2026-02-27T06:53:52Z",
    "completed_at": "2026-02-27T07:00:53Z"
  },
  {
    "id": "frontend-audit-20260228",
    "description": "Frontend audit: review templates and styling for responsive behavior, accessibility, and visual consistency. Apply concrete UX/UI improvements and open a PR with summary notes.",
    "branch": "agent/frontend-audit-20260228",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 10,
    "priority_score": 35,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-frontend-audit-20260228",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/frontend-audit-20260228",
    "status": "failed",
    "retries": 0,
    "started_at": "2026-02-28T00:02:01Z",
    "last_heartbeat": "2026-02-28T00:02:01Z",
    "completed_at": "2026-02-28T00:02:52Z"
  },
  {
    "id": "frontend-audit-20260228-v1",
    "description": "Retry attempt 1 for frontend-audit-20260228. Original task: Frontend audit: review templates and styling for responsive behavior, accessibility, and visual consistency. Apply concrete UX/UI improvements and open a PR with summary notes.",
    "branch": "agent/frontend-audit-20260228-v1",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-frontend-audit-20260228-v1",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/frontend-audit-20260228-v1",
    "status": "failed",
    "retries": 1,
    "started_at": "2026-02-28T00:02:49Z",
    "last_heartbeat": "2026-02-28T00:02:49Z",
    "completed_at": "2026-02-28T00:04:38Z"
  },
  {
    "id": "frontend-audit-20260228-v2",
    "description": "Retry attempt 2 for frontend-audit-20260228. Original task: Retry attempt 1 for frontend-audit-20260228. Original task: Frontend audit: review templates and styling for responsive behavior, accessibility, and visual consistency. Apply concrete UX/UI improvements and open a PR with summary notes.",
    "branch": "agent/frontend-audit-20260228-v2",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-frontend-audit-20260228-v2",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/frontend-audit-20260228-v2",
    "status": "failed",
    "retries": 2,
    "started_at": "2026-02-28T00:04:35Z",
    "last_heartbeat": "2026-02-28T00:04:35Z",
    "completed_at": "2026-02-28T00:06:21Z"
  },
  {
    "id": "frontend-audit-20260228-v3",
    "description": "Retry attempt 3 for frontend-audit-20260228. Original task: Retry attempt 2 for frontend-audit-20260228. Original task: Retry attempt 1 for frontend-audit-20260228. Original task: Frontend audit: review templates and styling for responsive behavior, accessibility, and visual consistency. Apply concrete UX/UI improvements and open a PR with summary notes.",
    "branch": "agent/frontend-audit-20260228-v3",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-frontend-audit-20260228-v3",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/frontend-audit-20260228-v3",
    "status": "max_retries_exceeded",
    "retries": 3,
    "started_at": "2026-02-28T00:06:18Z",
    "last_heartbeat": "2026-02-28T00:06:18Z",
    "completed_at": "2026-02-28T00:09:19Z"
  },
  {
    "id": "batch-security-c2-trivial-regressions-1",
    "description": "Context:\n- Security scan cycle 2 reported regressions/trivial security hardening gaps.\n- This batch covers only auto-fixable findings.\n- Source findings: [security-c2-1, security-c2-2, security-c2-5, security-c2-7, security-c2-10].\n\nScope/Files:\n- app/services/auth_flow.py\n- app/schemas/webhook.py\n- app/main.py\n- app/api/auth_flow.py\n- app/services/ecm_storage.py\n- README.md (env var behavior note if needed)\n\nExecution Steps:\n1) Set secure refresh cookie default to True in _refresh_cookie_secure(); keep env override behavior for local dev.\n2) Remove exposed webhook `secret` from read schema; add `has_secret: bool` projection and ensure API responses still validate.\n3) Add CORSMiddleware registration in app startup using CORS_ALLOW_ORIGINS env parsing and safe empty handling.\n4) Update auth rate-limit dependency to fail open on Redis unavailability (warn log + allow request), not 503.\n5) Sanitize storage key filename component (strip path traversal/path separators via basename approach).\n6) Add/adjust focused tests for each behavior where tests exist nearby; otherwise add minimal coverage in existing test modules.\n7) Run targeted tests for touched areas and report results.\n\nAcceptance Checks:\n- security-c2-1: refresh cookie `secure` defaults enabled without env var.\n- security-c2-2: webhook read/list responses never include raw secret; `has_secret` reflects presence.\n- security-c2-5: CORSMiddleware present and configured from env.\n- security-c2-7: Redis outage does not block auth endpoints with 503; warning is logged.\n- security-c2-10: generated storage key cannot include path traversal segments from filename input.\n- No unrelated code changes.",
    "branch": "agent/batch-security-c2-trivial-regressions-1",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "session": "agent-dotmac_ecm-batch-security-c2-trivial-regressions-1",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/batch-security-c2-trivial-regressions-1",
    "status": "failed",
    "retries": 0,
    "started_at": "2026-02-28T03:01:52Z",
    "last_heartbeat": "2026-02-28T03:01:52Z",
    "completed_at": "2026-02-28T03:02:14Z"
  },
  {
    "id": "batch-security-c2-trivial-regressions-1-v1",
    "description": "Retry attempt 1 for batch-security-c2-trivial-regressions-1. Original task: Context:\n- Security scan cycle 2 reported regressions/trivial security hardening gaps.\n- This batch covers only auto-fixable findings.\n- Source findings: [security-c2-1, security-c2-2, security-c2-5, security-c2-7, security-c2-10].\n\nScope/Files:\n- app/services/auth_flow.py\n- app/schemas/webhook.py\n- app/main.py\n- app/api/auth_flow.py\n- app/services/ecm_storage.py\n- README.md (env var behavior note if needed)\n\nExecution Steps:\n1) Set secure refresh cookie default to True in _refresh_cookie_secure(); keep env override behavior for local dev.\n2) Remove exposed webhook `secret` from read schema; add `has_secret: bool` projection and ensure API responses still validate.\n3) Add CORSMiddleware registration in app startup using CORS_ALLOW_ORIGINS env parsing and safe empty handling.\n4) Update auth rate-limit dependency to fail open on Redis unavailability (warn log + allow request), not 503.\n5) Sanitize storage key filename component (strip path traversal/path separators via basename approach).\n6) Add/adjust focused tests for each behavior where tests exist nearby; otherwise add minimal coverage in existing test modules.\n7) Run targeted tests for touched areas and report results.\n\nAcceptance Checks:\n- security-c2-1: refresh cookie `secure` defaults enabled without env var.\n- security-c2-2: webhook read/list responses never include raw secret; `has_secret` reflects presence.\n- security-c2-5: CORSMiddleware present and configured from env.\n- security-c2-7: Redis outage does not block auth endpoints with 503; warning is logged.\n- security-c2-10: generated storage key cannot include path traversal segments from filename input.\n- No unrelated code changes.",
    "branch": "agent/batch-security-c2-trivial-regressions-1-v1",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-batch-security-c2-trivial-regressions-1-v1",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/batch-security-c2-trivial-regressions-1-v1",
    "status": "failed",
    "retries": 1,
    "started_at": "2026-02-28T03:02:12Z",
    "last_heartbeat": "2026-02-28T03:02:12Z",
    "completed_at": "2026-02-28T03:03:43Z"
  },
  {
    "id": "batch-security-c2-trivial-regressions-1-v2",
    "description": "Retry attempt 2 for batch-security-c2-trivial-regressions-1. Original task: Retry attempt 1 for batch-security-c2-trivial-regressions-1. Original task: Context:\n- Security scan cycle 2 reported regressions/trivial security hardening gaps.\n- This batch covers only auto-fixable findings.\n- Source findings: [security-c2-1, security-c2-2, security-c2-5, security-c2-7, security-c2-10].\n\nScope/Files:\n- app/services/auth_flow.py\n- app/schemas/webhook.py\n- app/main.py\n- app/api/auth_flow.py\n- app/services/ecm_storage.py\n- README.md (env var behavior note if needed)\n\nExecution Steps:\n1) Set secure refresh cookie default to True in _refresh_cookie_secure(); keep env override behavior for local dev.\n2) Remove exposed webhook `secret` from read schema; add `has_secret: bool` projection and ensure API responses still validate.\n3) Add CORSMiddleware registration in app startup using CORS_ALLOW_ORIGINS env parsing and safe empty handling.\n4) Update auth rate-limit dependency to fail open on Redis unavailability (warn log + allow request), not 503.\n5) Sanitize storage key filename component (strip path traversal/path separators via basename approach).\n6) Add/adjust focused tests for each behavior where tests exist nearby; otherwise add minimal coverage in existing test modules.\n7) Run targeted tests for touched areas and report results.\n\nAcceptance Checks:\n- security-c2-1: refresh cookie `secure` defaults enabled without env var.\n- security-c2-2: webhook read/list responses never include raw secret; `has_secret` reflects presence.\n- security-c2-5: CORSMiddleware present and configured from env.\n- security-c2-7: Redis outage does not block auth endpoints with 503; warning is logged.\n- security-c2-10: generated storage key cannot include path traversal segments from filename input.\n- No unrelated code changes.",
    "branch": "agent/batch-security-c2-trivial-regressions-1-v2",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-batch-security-c2-trivial-regressions-1-v2",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/batch-security-c2-trivial-regressions-1-v2",
    "status": "failed",
    "retries": 2,
    "started_at": "2026-02-28T03:03:39Z",
    "last_heartbeat": "2026-02-28T03:03:39Z",
    "completed_at": "2026-02-28T03:05:17Z"
  },
  {
    "id": "batch-security-c2-trivial-regressions-1-v3",
    "description": "Retry attempt 3 for batch-security-c2-trivial-regressions-1. Original task: Retry attempt 2 for batch-security-c2-trivial-regressions-1. Original task: Retry attempt 1 for batch-security-c2-trivial-regressions-1. Original task: Context:\n- Security scan cycle 2 reported regressions/trivial security hardening gaps.\n- This batch covers only auto-fixable findings.\n- Source findings: [security-c2-1, security-c2-2, security-c2-5, security-c2-7, security-c2-10].\n\nScope/Files:\n- app/services/auth_flow.py\n- app/schemas/webhook.py\n- app/main.py\n- app/api/auth_flow.py\n- app/services/ecm_storage.py\n- README.md (env var behavior note if needed)\n\nExecution Steps:\n1) Set secure refresh cookie default to True in _refresh_cookie_secure(); keep env override behavior for local dev.\n2) Remove exposed webhook `secret` from read schema; add `has_secret: bool` projection and ensure API responses still validate.\n3) Add CORSMiddleware registration in app startup using CORS_ALLOW_ORIGINS env parsing and safe empty handling.\n4) Update auth rate-limit dependency to fail open on Redis unavailability (warn log + allow request), not 503.\n5) Sanitize storage key filename component (strip path traversal/path separators via basename approach).\n6) Add/adjust focused tests for each behavior where tests exist nearby; otherwise add minimal coverage in existing test modules.\n7) Run targeted tests for touched areas and report results.\n\nAcceptance Checks:\n- security-c2-1: refresh cookie `secure` defaults enabled without env var.\n- security-c2-2: webhook read/list responses never include raw secret; `has_secret` reflects presence.\n- security-c2-5: CORSMiddleware present and configured from env.\n- security-c2-7: Redis outage does not block auth endpoints with 503; warning is logged.\n- security-c2-10: generated storage key cannot include path traversal segments from filename input.\n- No unrelated code changes.",
    "branch": "agent/batch-security-c2-trivial-regressions-1-v3",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-batch-security-c2-trivial-regressions-1-v3",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/batch-security-c2-trivial-regressions-1-v3",
    "status": "max_retries_exceeded",
    "retries": 3,
    "started_at": "2026-02-28T03:05:13Z",
    "last_heartbeat": "2026-02-28T03:05:13Z",
    "completed_at": "2026-02-28T03:08:09Z"
  },
  {
    "id": "hotfix-ci-22491062270",
    "description": "HOTFIX: CI failure on main branch. Workflow: CI. Error log: Could not fetch logs",
    "branch": "agent/hotfix-ci-22491062270",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 1,
    "priority_score": 90,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-hotfix-ci-22491062270",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/hotfix-ci-22491062270",
    "status": "failed",
    "retries": 0,
    "started_at": "2026-02-28T08:55:49Z",
    "last_heartbeat": "2026-02-28T08:55:49Z",
    "completed_at": "2026-02-28T08:56:21Z"
  },
  {
    "id": "hotfix-ci-22491062270-v1",
    "description": "Retry attempt 1 for hotfix-ci-22491062270. Original task: HOTFIX: CI failure on main branch. Workflow: CI. Error log: Could not fetch logs",
    "branch": "agent/hotfix-ci-22491062270-v1",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-hotfix-ci-22491062270-v1",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/hotfix-ci-22491062270-v1",
    "status": "failed",
    "retries": 1,
    "started_at": "2026-02-28T08:56:19Z",
    "last_heartbeat": "2026-02-28T08:56:19Z",
    "completed_at": "2026-02-28T08:57:46Z"
  },
  {
    "id": "hotfix-ci-22491062270-v2",
    "description": "Retry attempt 2 for hotfix-ci-22491062270. Original task: Retry attempt 1 for hotfix-ci-22491062270. Original task: HOTFIX: CI failure on main branch. Workflow: CI. Error log: Could not fetch logs",
    "branch": "agent/hotfix-ci-22491062270-v2",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-hotfix-ci-22491062270-v2",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/hotfix-ci-22491062270-v2",
    "status": "failed",
    "retries": 2,
    "started_at": "2026-02-28T08:57:44Z",
    "last_heartbeat": "2026-02-28T08:57:44Z",
    "completed_at": "2026-02-28T08:59:06Z"
  },
  {
    "id": "hotfix-ci-22491062270-v3",
    "description": "Retry attempt 3 for hotfix-ci-22491062270. Original task: Retry attempt 2 for hotfix-ci-22491062270. Original task: Retry attempt 1 for hotfix-ci-22491062270. Original task: HOTFIX: CI failure on main branch. Workflow: CI. Error log: Could not fetch logs",
    "branch": "agent/hotfix-ci-22491062270-v3",
    "engine": "codex",
    "model": "gpt-5.3-codex",
    "scope": "",
    "track": "reactive",
    "priority": 5,
    "priority_score": 55,
    "kpi_target": "",
    "depends_on": [],
    "estimated_effort": 3,
    "impact": 3,
    "risk_reduction": 3,
    "urgency": 3,
    "session": "agent-dotmac_ecm-hotfix-ci-22491062270-v3",
    "worktree": "/home/dotmac/projects/dotmac_ecm/.worktrees/hotfix-ci-22491062270-v3",
    "status": "max_retries_exceeded",
    "retries": 3,
    "started_at": "2026-02-28T08:59:04Z",
    "last_heartbeat": "2026-02-28T08:59:04Z",
    "completed_at": "2026-02-28T09:01:41Z"
  }
]
